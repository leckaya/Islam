<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Sure - by azad_anil1211</title>
    <style>
        /* Grundlayout */
        body {
            margin: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            /* Dunkler Weltraum-Hintergrund */
            background: linear-gradient(to bottom, #000000, #0f2027);
            color: #ffffff;
            overflow: hidden;
        }

        /* 3D Canvas im Hintergrund */
        #three-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Vordergrund-Box (Ayah) */
        .center {
            text-align: center;
            width: 90%;
            max-width: 600px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 10;
        }

        .page-header { text-align: center; margin-bottom: 30px; z-index: 10; }
        h1 { margin: 0; color: #ffd700; font-size: 2.5rem; }
        h2 { margin: 10px 0 0 0; color: #3498db; font-size: 1.8rem; }
        
        /* Button-Container oben rechts */
        .top-right { 
            position: fixed; 
            top: 20px; 
            right: 20px; 
            z-index: 100;
            display: flex;
            gap: 10px;
        }
        
        button {
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 8px;
            border: none;
            background: #3498db;
            color: white;
            transition: 0.3s;
        }
        button:hover { background: #2980b9; transform: scale(1.05); }

        #ayah { margin-top: 25px; font-size: 20px; line-height: 1.6; min-height: 80px; }
        #surah-info { margin-top: 15px; color: #ccc; font-size: 14px; }
        .transliteration-text { font-style: italic; color: #a9c3e2; display: block; margin: 10px 0; }


        /* INFO MODAL STYLES */
        #info-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
            padding: 20px;
            box-sizing: border-box;
            transition: opacity 0.3s ease;
        }

        .info-content {
            background: #1a2a3a;
            color: #ffffff;
            padding: 40px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            position: relative;
        }

        .info-content h2 {
            color: #ffd700;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .info-content p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
            text-align: left;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            color: #ccc;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: #fff;
        }
    </style>
</head>
<body>

    <div id="info-modal">
        <div class="info-content">
            <button class="close-btn" onclick="toggleInfo(false)">&times;</button>
            
            <h2>✨ Warum diese Website?</h2>
            
            <p>
                Dies ist ein **persönliches Projekt**, das aus reiner Leidenschaft für den Islam und das Programmieren entstanden ist.
            </p>
            <p>
                Die Seite soll einen Moment der Ruhe und Besinnung schaffen. Sie verbindet die zeitlose Weisheit der Quran-Verse mit der Unendlichkeit des Kosmos, dargestellt durch die 3D-Animation.
            </p>
             <p>
                **Pädagogische Nutzung:** Diese Website kann auch als **Hilfsmittel im Islamunterricht** dienen, beispielsweise zur Einführung oder Diskussion von Textstellen, wenn das Thema **Koran oder Suren** behandelt wird. Die zufällige Auswahl kann als täglicher Impuls oder Ausgangspunkt für ein Gespräch genutzt werden.
            </p>
            <p style="text-align: right; margin-top: 30px; font-style: italic; color: #ffd700;">
                azad\_anil1211
            </p>
        </div>
    </div>


    <canvas id="three-canvas"></canvas>

    <div class="top-right">
        <button onclick="toggleInfo(true)">Info</button>
        <button onclick="window.location.href='https://redstone-studios.de';">Kontakt</button>
    </div>

    <header class="page-header">
        <h1>by azad_anil1211</h1>
        <h2>Islam</h2>
    </header>

    <main class="center">
        <button id="randomBtn">Drück mich für eine Ayah</button>
        <div id="ayah"></div>
        <div id="surah-info"></div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        // --- FUNKTIONEN FÜR INFO MODAL ---
        function toggleInfo(show) {
            const modal = document.getElementById('info-modal');
            modal.style.display = show ? 'flex' : 'none';
        }
        
        // --- 3D SZENE SETUP ---
        const canvas = document.querySelector('#three-canvas');
        const scene = new THREE.Scene();
        
        // Kamera Setup
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 3, 9);

        const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);

        // Licht hinzufügen
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
        scene.add(ambientLight);
        const dirLight = new THREE.DirectionalLight(0xffd700, 0.8);
        dirLight.position.set(5, 10, 7);
        scene.add(dirLight);

        // --- MOSCHEE BAUEN ---
        const mosqueGroup = new THREE.Group();

        // Materialien
        const wallMat = new THREE.MeshPhongMaterial({ color: 0xe0e0e0 });
        const goldMat = new THREE.MeshPhongMaterial({ color: 0xffaa00, shininess: 100 });

        // 1. Hauptgebäude (Box)
        const base = new THREE.Mesh(new THREE.BoxGeometry(5, 2, 4), wallMat);
        base.position.y = 1;
        mosqueGroup.add(base);

        // 2. Kuppel (Halbkugel)
        const dome = new THREE.Mesh(
            new THREE.SphereGeometry(2, 32, 16, 0, Math.PI * 2, 0, Math.PI / 2), 
            wallMat
        );
        dome.position.y = 2;
        mosqueGroup.add(dome);

        // Spitze auf der Kuppel
        const spire = new THREE.Mesh(new THREE.ConeGeometry(0.1, 1, 16), goldMat);
        spire.position.y = 4.5;
        mosqueGroup.add(spire);

        // 3. Minarette (4 Türme an den Ecken)
        function createMinaret(x, z) {
            const group = new THREE.Group();
            
            const tower = new THREE.Mesh(new THREE.CylinderGeometry(0.3, 0.4, 6, 16), wallMat);
            tower.position.y = 3;
            
            const tip = new THREE.Mesh(new THREE.ConeGeometry(0.4, 1.5, 16), goldMat);
            tip.position.y = 6.75;

            group.add(tower);
            group.add(tip);
            group.position.set(x, 0, z);
            return group;
        }

        // Minarette platzieren
        mosqueGroup.add(createMinaret(3, 2.5));
        mosqueGroup.add(createMinaret(-3, 2.5));
        mosqueGroup.add(createMinaret(3, -2.5));
        mosqueGroup.add(createMinaret(-3, -2.5));

        // Gesamtposition der Moschee (Rechts im Bild)
        mosqueGroup.position.set(4, -1, 0);
        mosqueGroup.rotation.y = -0.3;
        scene.add(mosqueGroup);

        // --- STERNE ---
        const starGeo = new THREE.BufferGeometry();
        const starCount = 800;
        const starPos = [];
        for(let i=0; i<starCount*3; i++) {
            starPos.push((Math.random() - 0.5) * 80);
        }
        starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starPos, 3));
        const starMat = new THREE.PointsMaterial({color: 0xffffff, size: 0.1});
        const stars = new THREE.Points(starGeo, starMat);
        scene.add(stars);

        // Animation
        function animate() {
            requestAnimationFrame(animate);
            
            mosqueGroup.rotation.y -= 0.003;
            stars.rotation.y -= 0.0005;
            
            renderer.render(scene, camera);
        }

        // Resize Fix
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        animate();
    </script>

    <script>
        const btn = document.getElementById('randomBtn');
        const ayahDiv = document.getElementById('ayah');
        const surahInfoDiv = document.getElementById('surah-info');

        async function getRandomAyah() {
            btn.disabled = true;
            btn.textContent = 'Lädt...';
            ayahDiv.style.opacity = '0.5';
            
            try {
                const rand = Math.floor(Math.random() * 6236) + 1;
                const url = `https://api.alquran.cloud/v1/ayah/${rand}/editions/quran-uthmani,de.bubenheim,en.transliteration`;
                const res = await fetch(url);
                const data = await res.json();
                
                if (data.code === 200) {
                    const [ar, de, tr] = data.data;
                    ayahDiv.innerHTML = `<span dir="rtl" lang="ar" style="font-family:serif; font-size:1.4em; display:block; margin-bottom:10px;">${ar.text}</span><span class="transliteration-text">${tr.text}</span><span>${de.text}</span>`;
                    surahInfoDiv.textContent = `Sure: ${ar.surah.englishName} (${ar.surah.number}), Ayah ${ar.numberInSurah}`;
                }
            } catch (e) {
                ayahDiv.textContent = 'Fehler beim Laden.';
            } finally {
                btn.disabled = false;
                btn.textContent = 'Drück mich für eine Ayah';
                ayahDiv.style.opacity = '1';
            }
        }
        getRandomAyah();
        btn.addEventListener('click', getRandomAyah);
    </script>
</body>
</html>
